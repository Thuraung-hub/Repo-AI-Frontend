{
  "version": 3,
  "sources": ["../../supersimpledev/chatbot.js", "../../supersimpledev/index.js"],
  "sourcesContent": ["// This is a simple chatbot used for SuperSimpleDev\r\n// coding tutorials: https://youtube.com/@SuperSimpleDev\r\n\r\nconst Chatbot = {\r\n  defaultResponses: {\r\n    'hello hi': `Hello! How can I help you?`,\r\n    'how are you': `I'm doing great! How can I help you?`,\r\n    'flip a coin': function () {\r\n      const randomNumber = Math.random();\r\n      if (randomNumber < 0.5) {\r\n        return 'Sure! You got heads';\r\n      } else {\r\n        return 'Sure! You got tails';\r\n      }\r\n    },\r\n    'roll a dice': function() {\r\n      const diceResult = Math.floor(Math.random() * 6) + 1;\r\n      return `Sure! You got ${diceResult}`;\r\n    },\r\n    'what is the date today': function () {\r\n      const now = new Date();\r\n      const months = [\r\n        'January', 'February', 'March', 'April', 'May', 'June',\r\n        'July', 'August', 'September', 'October', 'November', 'December'\r\n      ];\r\n      const month = months[now.getMonth()];\r\n      const day = now.getDate();\r\n\r\n      return `Today is ${month} ${day}`;\r\n    },\r\n    'thank': 'No problem! Let me know if you need help with anything else!',\r\n  },\r\n\r\n  additionalResponses: {},\r\n\r\n  unsuccessfulResponse: `Sorry, I didn't quite understand that. Currently, I only know how to flip a coin, roll a dice, or get today's date. Let me know how I can help!`,\r\n\r\n  emptyMessageResponse: `Sorry, it looks like your message is empty. Please make sure you send a message and I will give you a response.`,\r\n\r\n  addResponses: function (additionalResponses) {\r\n    this.additionalResponses = {\r\n      ...this.additionalResponses,\r\n      ...additionalResponses\r\n    };\r\n  },\r\n\r\n  getResponse: function (message) {\r\n    if (!message) {\r\n      return this.emptyMessageResponse;\r\n    }\r\n\r\n    // This spread operator (...) combines the 2 objects.\r\n    const responses = {\r\n      ...this.defaultResponses,\r\n      ...this.additionalResponses,\r\n    };\r\n\r\n    const {\r\n      ratings,\r\n      bestMatchIndex,\r\n    } = this.stringSimilarity(message, Object.keys(responses));\r\n\r\n    const bestResponseRating = ratings[bestMatchIndex].rating;\r\n    if (bestResponseRating <= 0.3) {\r\n      return this.unsuccessfulResponse;\r\n    }\r\n\r\n    const bestResponseKey = ratings[bestMatchIndex].target;\r\n    const response = responses[bestResponseKey];\r\n\r\n    if (typeof response === 'function') {\r\n      return response();\r\n    } else {\r\n      return response;\r\n    }\r\n  },\r\n\r\n  getResponseAsync: function (message) {\r\n    return new Promise((resolve) => {\r\n      // Pretend it takes some time for the chatbot to response.\r\n      setTimeout(() => {\r\n        resolve(this.getResponse(message));\r\n      }, 1000);\r\n    });\r\n  },\r\n\r\n  compareTwoStrings: function (first, second) {\r\n    first = first.replace(/\\s+/g, '')\r\n    second = second.replace(/\\s+/g, '')\r\n\r\n    if (first === second) return 1;\r\n    if (first.length < 2 || second.length < 2) return 0;\r\n\r\n    let firstBigrams = new Map();\r\n    for (let i = 0; i < first.length - 1; i++) {\r\n      const bigram = first.substring(i, i + 2);\r\n      const count = firstBigrams.has(bigram)\r\n        ? firstBigrams.get(bigram) + 1\r\n        : 1;\r\n\r\n      firstBigrams.set(bigram, count);\r\n    };\r\n\r\n    let intersectionSize = 0;\r\n    for (let i = 0; i < second.length - 1; i++) {\r\n      const bigram = second.substring(i, i + 2);\r\n      const count = firstBigrams.has(bigram)\r\n        ? firstBigrams.get(bigram)\r\n        : 0;\r\n\r\n      if (count > 0) {\r\n        firstBigrams.set(bigram, count - 1);\r\n        intersectionSize++;\r\n      }\r\n    }\r\n\r\n    return (2.0 * intersectionSize) / (first.length + second.length - 2);\r\n  },\r\n\r\n  stringSimilarity: function (mainString, targetStrings) {\r\n    const ratings = [];\r\n    let bestMatchIndex = 0;\r\n\r\n    for (let i = 0; i < targetStrings.length; i++) {\r\n      const currentTargetString = targetStrings[i];\r\n      const currentRating = this.compareTwoStrings(mainString, currentTargetString)\r\n      ratings.push({target: currentTargetString, rating: currentRating})\r\n      if (currentRating > ratings[bestMatchIndex].rating) {\r\n        bestMatchIndex = i\r\n      }\r\n    }\r\n\r\n    const bestMatch = ratings[bestMatchIndex]\r\n\r\n    return { ratings: ratings, bestMatch: bestMatch, bestMatchIndex: bestMatchIndex };\r\n  },\r\n};\r\n\r\n// Define the randomUUID() function if it doesn't exist.\r\nfunction uuidPolyfill() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (char) {\r\n    const randomNumber = Math.random() * 16 | 0;\r\n    const result = char === 'x' ? randomNumber : (randomNumber & 0x3 | 0x8);\r\n    return result.toString(16);\r\n  });\r\n}\r\n\r\n// This code allows Chatbot to be used in both the browser and\r\n// in NodeJS. This is called UMD (Universal Module Definition).\r\n(function (root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD\r\n    define([], factory);\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    // Node/CommonJS\r\n    module.exports = factory();\r\n  } else {\r\n    // Create a fallback if window.crypto is undefined.\r\n    if (typeof root.crypto === 'undefined') {\r\n      try {\r\n        root.crypto = {};\r\n      } catch (e) {}\r\n    }\r\n\r\n    // Create a fallback crypto.randomUUID() function.\r\n    if (root.crypto && typeof root.crypto.randomUUID !== 'function') {\r\n      try {\r\n        root.crypto.randomUUID = uuidPolyfill;\r\n      } catch (e) {}\r\n    }\r\n\r\n    // Browser global\r\n    root.Chatbot = factory();\r\n    root.chatbot = factory();\r\n  }\r\n}(typeof self !== 'undefined' ? self : this, function () {\r\n  return Chatbot;\r\n}));", "const Chatbot = require('./chatbot');\r\n\r\n// Define the randomUUID() function if it doesn't exist.\r\nfunction uuidPolyfill() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (char) {\r\n    const randomNumber = Math.random() * 16 | 0;\r\n    const result = char === 'x' ? randomNumber : (randomNumber & 0x3 | 0x8);\r\n    return result.toString(16);\r\n  });\r\n}\r\n\r\n// In the browser.\r\nif (typeof window !== 'undefined') {\r\n  // Create a fallback if window.crypto is undefined.\r\n  if (typeof window.crypto === 'undefined') {\r\n    try {\r\n      window.crypto = {};\r\n    } catch (e) {}\r\n  }\r\n\r\n  // Create a fallback if crypto.randomUUID() doesn't exist.\r\n  if (window.crypto && typeof window.crypto.randomUUID !== 'function') {\r\n    try {\r\n      window.crypto.randomUUID = uuidPolyfill;\r\n    } catch (e) {}\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  Chatbot,\r\n  chatbot: Chatbot\r\n};"],
  "mappings": "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",
  "names": []
}
